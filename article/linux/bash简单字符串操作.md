## 删除后缀

```bash
${变量名%后缀}

${变量名%"$v2"} # 可以不用引号，变量里的通配符是不生效的

${变量名%通配符}
```

`%%`在有通配符时会进行最长匹配。

zsh可用。

## 删除前缀

```bash
${变量名#前缀}

${变量名#"$v2"} # 可以不用引号

${变量名#通配符}
```

`##`在有通配符时会进行最长匹配。

zsh可用。

## 替换内容

```bash
${变量名/old/new}

${变量名/"$old"/$new}

${变量名/通配符/new}

${变量名//old/new}  # 删除所有old
```

zsh可用。

## 获取字符串长度

```bash
echo ${#变量}
```

zsh可用。

## substring

```bash
${变量:start:length}
```

下标从0开始，length超过长度了也没关系。

不给出`:length`部分就截取到字符串末尾。

zsh可用。

## 大小写转换

通用：

```bash
echo "$val" | tr '[:upper:]' '[:lower:]'
```

Bash 4.0 以上：

```bash
echo ${val,[字符,字符...]} // 首字母小写，或者只有中括号里给出的字符是首字母的时候才转成小写
echo ${val,,[字符,字符...]} // 每个字母都小写，或者只把中括号里的字母转成小写

echo ${val^[字符,字符...]} // 首字母大写，或者只有中括号里给出的字符是首字母的时候才转成大写
echo ${val^^[字符,字符...]} // 每个字母都大写，或者只把中括号里的字母转成大写
```

`~`和`~~`可以转换非ASCII字符到大写。和本地locale设置有关，少用。

zsh只能用通用方法

## 字符串反转

```bash
$ echo Linux | rev

xuniL
```

是命令行程序，所以其他shell也可以使用。环境配置得当时也可以反转unicode字符。
